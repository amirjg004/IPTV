/* Copyright 2025 - Herber eDevelopment - Jaroslav Herber */

// en, ar, cs, de, el, es, fi, fr, hi, id, it, ja, ko, no, pl, pt, ro, ru, sl, tr, uk, vi, zh

var i18n = {

    'noEpgForChannel': {
        en: 'No guide for this channel available',
        ar: 'لا يتوفر دليل لهذا القناة',
        cs: 'Pro tento kanál není k dispozici žádný průvodce',
        de: 'Kein Programm für diesen Sender verfügbar',
        el: 'Δεν υπάρχει οδηγός για αυτό το κανάλι',
        es: 'No hay guía disponible para este canal',
        fi: 'Tälle kanavalle ei ole opasta saatavilla',
        fr: 'Aucun guide disponible pour cette chaîne',
        hi: 'इस चैनल के लिए कोई गाइड उपलब्ध नहीं है',
        id: 'Tidak ada panduan untuk saluran ini',
        it: 'Nessuna guida disponibile per questo canale',
        ja: 'このチャンネルのガイドは利用できません',
        ko: '이 채널에 대한 가이드는 사용할 수 없습니다',
        no: 'Ingen guide tilgjengelig for denne kanalen',
        pl: 'Brak przewodnika dla tego kanału',
        pt: 'Nenhum guia disponível para este canal',
        ro: 'Nu există ghid pentru acest canal',
        ru: 'Нет телегида для этого канала',
        sl: 'Za ta kanal ni na voljo vodnika',
        tr: 'Bu kanal için rehber bulunmuyor',
        uk: 'Немає гіда для цього каналу',
        vi: 'Không có hướng dẫn cho kênh này',
        zh: '此频道没有可用的节目指南'
    },
    'epgNow': {
        en: 'Now',
        ar: 'الآن',
        cs: 'Nyní',
        de: 'Jetzt',
        el: 'Τώρα',
        es: 'Ahora',
        fi: 'Nyt',
        fr: 'Maintenant',
        hi: 'अभी',
        id: 'Sekarang',
        it: 'Ora',
        ja: '現在',
        ko: '지금',
        no: 'Nå',
        pl: 'Teraz',
        pt: 'Agora',
        ro: 'Acum',
        ru: 'Сейчас',
        sl: 'Zdaj',
        tr: 'Şimdi',
        uk: 'Зараз',
        vi: 'Bây giờ',
        zh: '现在'
    },
    'epgAfter': {
        en: 'After',
        ar: 'بعد',
        cs: 'Po',
        de: 'Danach',
        el: 'Μετά',
        es: 'Después',
        fi: 'Jälkeen',
        fr: 'Après',
        hi: 'बाद में',
        id: 'Setelah',
        it: 'Dopo',
        ja: '次に',
        ko: '이후',
        no: 'Etter',
        pl: 'Później',
        pt: 'Depois',
        ro: 'După',
        ru: 'Далее',
        sl: 'Kasneje',
        tr: 'Sonra',
        uk: 'Після',
        vi: 'Sau',
        zh: '稍后'
    },
    'license-archive-play-fail': {
        en: 'Archive content is not available with the Free license. Upgrade to a Premium license to unlock archive access.<br>Please note: archive support must also be provided by your IPTV provider.<br>Learn more at: https://m3u-ip.tv',
        ar: 'محتوى الأرشيف غير متاح مع الترخيص المجاني. قم بالترقية إلى ترخيص بريميوم لفتح الوصول إلى الأرشيف.<br>يرجى ملاحظة: يجب أيضًا أن يوفر مزود خدمة IPTV الخاص بك دعم الأرشيف.<br>تعرف على المزيد في: https://m3u-ip.tv',
        cs: 'Archivní obsah není k dispozici s bezplatnou licencí. Upgradujte na prémiovou licenci pro odemknutí přístupu k archivu.<br>Upozornění: archiv musí být také podporován vaším poskytovatelem IPTV.<br>Další informace na: https://m3u-ip.tv',
        de: 'Archivinhalt ist mit der kostenlosen Lizenz nicht verfügbar. Upgrade auf eine Premium-Lizenz, um Archivzugriff freizuschalten.<br>Bitte beachte: Archivunterstützung muss auch von Deinem IPTV-Anbieter bereitgestellt werden.<br>Erfahre mehr unter: https://m3u-ip.tv',
        el: 'Το αρχειακό περιεχόμενο δεν είναι διαθέσιμο με την δωρεάν άδεια. Αναβαθμίστε σε άδεια Premium για να ξεκλειδώσετε την πρόσβαση στο αρχείο.<br>Παρακαλώ σημειώστε: η υποστήριξη αρχείου πρέπει επίσης να παρέχεται από τον πάροχο IPTV σας.<br>Μάθετε περισσότερα στο: https://m3u-ip.tv',
        es: 'El contenido de archivo no está disponible con la licencia gratuita. Actualice a una licencia Premium para desbloquear el acceso al archivo.<br>Tenga en cuenta: el soporte de archivo también debe ser proporcionado por su proveedor de IPTV.<br>Más información en: https://m3u-ip.tv',
        fi: 'Arkistosisältö ei ole saatavilla ilmaisella lisenssillä. Päivitä Premium-lisenssiin avataksesi arkistokäytön.<br>Huomaa: arkiston tuki on myös oltava IPTV-palveluntarjoajasi tarjoama.<br>Lue lisää osoitteessa: https://m3u-ip.tv',
        fr: 'Le contenu des archives n\'est pas disponible avec la licence gratuite. Passez à une licence Premium pour débloquer l\'accès aux archives.<br>Veuillez noter : la prise en charge des archives doit également être fournie par votre fournisseur IPTV.<br>En savoir plus sur : https://m3u-ip.tv',
        hi: 'फ्री लाइसेंस के साथ आर्काइव सामग्री उपलब्ध नहीं है। आर्काइव एक्सेस को अनलॉक करने के लिए प्रीमियम लाइसेंस में अपग्रेड करें।<br>कृपया ध्यान दें: आपके IPTV प्रदाता द्वारा भी आर्काइव समर्थन प्रदान किया जाना चाहिए।<br>अधिक जानें: https://m3u-ip.tv',
        id: 'Konten arsip tidak tersedia dengan lisensi Gratis. Tingkatkan ke lisensi Premium untuk membuka akses arsip.<br>Harap dicatat: dukungan arsip juga harus disediakan oleh penyedia IPTV Anda.<br>Pelajari lebih lanjut di: https://m3u-ip.tv',
        it: 'Il contenuto dell\'archivio non è disponibile con la licenza gratuita. Passa a una licenza Premium per sbloccare l\'accesso all\'archivio.<br>Nota: il supporto dell\'archivio deve essere fornito anche dal tuo fornitore IPTV.<br>Per saperne di più: https://m3u-ip.tv',
        ja: '無料ライセンスではアーカイブコンテンツを利用できません。アーカイブアクセスを有効にするには、プレミアムライセンスにアップグレードしてください。<br>ご注意：アーカイブはIPTVプロバイダーによってもサポートされている必要があります。<br>詳細: https://m3u-ip.tv',
        ko: '무료 라이선스에서는 아카이브 콘텐츠를 이용할 수 없습니다. 아카이브 접근을 위해 프리미엄 라이선스로 업그레이드하세요.<br>참고: 아카이브는 IPTV 제공업체에서 지원해야 합니다.<br>자세히 보기: https://m3u-ip.tv',
        no: 'Arkivinnhold er ikke tilgjengelig med gratislisensen. Oppgrader til en Premium-lisens for å få tilgang til arkivet.<br>Merk: arkivstøtte må også leveres av din IPTV-leverandør.<br>Les mer på: https://m3u-ip.tv',
        pl: 'Zawartość archiwum nie jest dostępna w darmowej licencji. Uaktualnij do licencji Premium, aby uzyskać dostęp do archiwum.<br>Uwaga: archiwum musi być również obsługiwane przez Twojego dostawcę IPTV.<br>Dowiedz się więcej: https://m3u-ip.tv',
        pt: 'O conteúdo do arquivo não está disponível com a licença Gratuita. Faça upgrade para a licença Premium para desbloquear o acesso ao arquivo.<br>Observação: o suporte ao arquivo também deve ser fornecido pelo seu provedor de IPTV.<br>Saiba mais em: https://m3u-ip.tv',
        ro: 'Conținutul arhivei nu este disponibil cu licența gratuită. Treceți la o licență Premium pentru a accesa arhiva.<br>Notă: suportul pentru arhivă trebuie să fie oferit și de furnizorul dumneavoastră IPTV.<br>Aflați mai multe: https://m3u-ip.tv',
        ru: 'Архивный контент недоступен с бесплатной лицензией. Обновите лицензию до Премиум, чтобы получить доступ к архиву.<br>Обратите внимание: поддержка архива также должна предоставляться вашим IPTV-провайдером.<br>Подробнее: https://m3u-ip.tv',
        sl: 'Vsebina arhiva ni na voljo z brezplačno licenco. Nadgradite na Premium licenco za dostop do arhiva.<br>Opomba: podporo za arhiv mora zagotoviti tudi vaš ponudnik IPTV.<br>Več informacij: https://m3u-ip.tv',
        tr: 'Arşiv içeriği Ücretsiz lisans ile kullanılamaz. Arşiv erişimini açmak için Premium lisansa geçin.<br>Lütfen dikkat: arşiv desteği IPTV sağlayıcınız tarafından da sunulmalıdır.<br>Daha fazla bilgi: https://m3u-ip.tv',
        uk: 'Архівний контент недоступний із безкоштовною ліцензією. Оновіть до Преміум-ліцензії, щоб отримати доступ до архіву.<br>Зверніть увагу: підтримка архіву також має бути забезпечена вашим IPTV-провайдером.<br>Докладніше: https://m3u-ip.tv',
        vi: 'Nội dung lưu trữ không khả dụng với giấy phép Miễn phí. Nâng cấp lên giấy phép Premium để mở khóa truy cập lưu trữ.<br>Lưu ý: hỗ trợ lưu trữ cũng phải được cung cấp bởi nhà cung cấp IPTV của bạn.<br>Tìm hiểu thêm: https://m3u-ip.tv',
        zh: '使用免费许可证无法访问存档内容。请升级为高级许可证以解锁存档访问权限。<br>请注意：您的 IPTV 提供商也必须支持存档功能。<br>了解更多信息：https://m3u-ip.tv'
    },
    'hide-modal-hint': {
        en: 'Press any button to close this message.',
        ar: 'اضغط على أي زر لإغلاق هذه الرسالة.',
        cs: 'Stiskněte libovolné tlačítko pro zavření této zprávy.',
        de: 'Drücke eine beliebige Taste, um diese Nachricht zu schließen.',
        el: 'Πατήστε οποιοδήποτε κουμπί για να κλείσετε αυτό το μήνυμα.',
        es: 'Presiona cualquier botón para cerrar este mensaje.',
        fi: 'Paina mitä tahansa painiketta sulkeaksesi tämän viestin.',
        fr: 'Appuyez sur n’importe quel bouton pour fermer ce message.',
        hi: 'इस संदेश को बंद करने के लिए कोई भी बटन दबाएं।',
        id: 'Tekan tombol apa saja untuk menutup pesan ini.',
        it: 'Premi un tasto qualsiasi per chiudere questo messaggio.',
        ja: 'メッセージを閉じるには、任意のボタンを押してください。',
        ko: '이 메시지를 닫으려면 아무 키나 누르세요.',
        no: 'Trykk en hvilken som helst knapp for å lukke denne meldingen.',
        pl: 'Naciśnij dowolny przycisk, aby zamknąć ten komunikat.',
        pt: 'Pressione qualquer botão para fechar esta mensagem.',
        ro: 'Apasă orice buton pentru a închide acest mesaj.',
        ru: 'Нажмите любую кнопку, чтобы закрыть это сообщение.',
        sl: 'Pritisnite kateri koli gumb, da zaprete to sporočilo.',
        tr: 'Bu mesajı kapatmak için herhangi bir tuşa basın.',
        uk: 'Натисніть будь-яку кнопку, щоб закрити це повідомлення.',
        vi: 'Nhấn bất kỳ phím nào để đóng thông báo này.',
        zh: '按任意键关闭此消息。'
    }

};


function isLangAllowed(sLangId) {

    switch (sLangId) {
        case 'ar':
            return 'عربي';
        case 'cs':
            return 'český';
        case 'de':
            return 'Deutsch';
        case 'el':
            return 'Ελληνικά'; // greek
        case 'en':
            return 'English';
        case 'es':
            return 'Español';
        case 'fi':
            return 'Suomalainen';
        case 'fr':
            return 'Français';
        case 'gr':
            return 'Ελληνικά'; // fallback for greek
        case 'hi':
            return 'हिंदी';
        case 'id':
            return 'Bahasa Indonesia';
        case 'it':
            return 'Italiano';
        case 'ja':
            return '日本語'; // japanese
        case 'jp':
            return '日本語'; // fallback for japanese
        case 'ko':
            return '한국어';
        case 'no':
            return 'Norsk';
        case 'pl':
            return 'Polski';
        case 'pt':
            return 'Português';
        case 'ru':
            return 'Русский';
        case 'ro':
            return 'Română';
        case 'sl':
            return 'Slovenski';
        case 'tr':
            return 'Türk';
        case 'uk':
            return 'Українська';
        case 'vi':
            return 'Tiếng Việt';
        case 'zh':
            return '中国人';
    }

    return false;

}

function setLangId(sLangId) {
    if (sLangId && isLangAllowed(sLangId)) {
        localStorage.setItem('sLangId', sLangId);
        applyLang();
        //applyGuideLang('default');
    } else {
        console.log('Unknown language: ' + sLangId);
    }
}

function getLangId() {
    var sStoredLang = localStorage.getItem('sLangId');

    if (!sStoredLang) {
        sStoredLang = getDeviceLang();
        setLangId(sStoredLang);
    }

    if (!isLangAllowed(sStoredLang)) {
        sStoredLang = 'en';
    }
    return sStoredLang;
}


function getLang(sKey, sForceLangId) {

    if (typeof(sKey) === 'undefined') {
        console.error(sKey);
        return '';
    }

    sForceLangId = sForceLangId || false;

    if (sForceLangId) {
        var sLangId = sForceLangId;
    } else {
        var sLangId = getLangId();
    }

    if (!isLangAllowed(sLangId)) {
        sLangId = 'en';
    }

    var aText = i18n[sKey];
    if (aText) {
        if (aText[sLangId]) {
            return aText[sLangId];
        } else if (sLangId !== 'en') {
            //console.log('Lang fallback: ' + sLangId + ' --- ' + sKey);
            return getLang(sKey, 'en');
        }
    }

    return '';

}


function applyLang() {

    var sLangId = getLangId(),
        aElements = document.querySelectorAll('.i18nInput');

    aElements.forEach(function(oEl) {
        var sLangKey = oEl.dataset.langid;
        if (sLangKey) {
            var sLangValue = getLang(sLangKey);
            if (sLangValue) {
                oEl.value = sLangValue;
            }
        }
    });

    aElements = document.querySelectorAll('.i18nPlaceholder');
    aElements.forEach(function(oEl) {
        var sLangKey = oEl.dataset.langid;
        if (sLangKey) {
            var sLangValue = getLang(sLangKey);
            if (sLangValue) {
                oEl.placeholder = sLangValue;
            }
        }
    });

    if (sLangId === 'ar') {
        document.body.classList.add('rtl');
    } else {
        document.body.classList.remove('rtl');
    }

    aElements = document.querySelectorAll('.i18n');
    aElements.forEach(function(oEl) {
        var sLangKey = oEl.dataset.langid;
        if (sLangKey) {
            var sLangValue = getLang(sLangKey);
            if (sLangValue) {
                oEl.innerHTML = sLangValue;
            }
        }
    });

}


function getDeviceLang() {

    try {
        if (sDeviceFamily === 'LG' && window.PalmSystem && window.PalmSystem.country) {
            var aDeviceCountry = JSON.parse(window.PalmSystem.country);
            if (aDeviceCountry && aDeviceCountry['country']) {
                switch (aDeviceCountry['country']) {
                    case 'CZE':
                        return 'cs';
                    case 'DEU':
                    case 'AUT':
                        return 'de';
                    case 'ESP':
                    case 'MEX':
                        return 'es';
                    case 'FRA':
                        return 'fr';
                    case 'FIN':
                        return 'fi';
                    case 'GRC':
                    case 'GRE':
                    case 'ELL':
                        return 'el';
                    case 'HIN':
                        return 'hi';
                    case 'ITA':
                        return 'it';
                    case 'IND':
                        return 'id';
                    case 'JPN':
                        return 'ja';
                    case 'PRK':
                    case 'KOR':
                        return 'ko';
                    case 'NOR':
                        return 'no';
                    case 'POL':
                        return 'pl';
                    case 'PRT':
                        return 'pt';
                    case 'RUS':
                        return 'ru';
                    case 'ROU':
                    case 'RUM':
                        return 'ro';
                    case 'SLO':
                        return 'sl';
                    case 'TUR':
                        return 'tr';
                    case 'UKR':
                        return 'uk';
                    case 'VNM':
                        return 'vi';
                    case 'ZHO':
                    case 'CHI':
                        return 'zh';
                    default:
                        return 'en';
                }
            }
        } else if (window.navigator.language) {
            var sDeviceLang = window.navigator.language;
            if (sDeviceLang.length == 5) {
                sDeviceLang = sDeviceLang.substr(0, 2);
            }

            if (sDeviceLang && isLangAllowed(sDeviceLang)) {
                return sDeviceLang;
            }
        }
    } catch (e) {
        console.log(e.message)
    }

    return 'en';

}