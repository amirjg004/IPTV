<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartOne IPTV</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    h1 {
      position: absolute;
      top: 5vh;
      font-size: 3vw;
      letter-spacing: 1px;
      text-align: center;
      width: 100%;
    }

    .button-container {
      display: flex;
      flex-wrap: wrap; /* allows wrapping on smaller screens */
      justify-content: center;
      align-items: center;
      gap: 4vw;
      width: 90vw;
      max-width: 1600px;
    }

    .button {
      width: 35vw;
      height: 20vh;
      max-width: 400px;
      max-height: 220px;
      min-width: 180px;
      min-height: 100px;
      background-color: #333;
      border: 3px solid transparent;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2vw;
      cursor: pointer;
      transition: all 0.18s ease;
      box-sizing: border-box;
      text-align: center;
      outline: none;
    }

    /* glow animation for the selected button */
    @keyframes glow {
      0%   { box-shadow: 0 0 6px rgba(0,191,255,0.35), 0 0 18px rgba(0,191,255,0.12); transform: scale(1.03); }
      50%  { box-shadow: 0 0 14px rgba(0,191,255,0.55), 0 0 30px rgba(0,191,255,0.20); transform: scale(1.06); }
      100% { box-shadow: 0 0 8px rgba(0,191,255,0.40), 0 0 20px rgba(0,191,255,0.15); transform: scale(1.04); }
    }

    /* press animation (short pulse) */
    @keyframes press {
      0% { transform: scale(1.06); box-shadow: 0 0 18px rgba(0,191,255,0.5); }
      50% { transform: scale(0.98); box-shadow: 0 0 8px rgba(0,140,200,0.45); }
      100% { transform: scale(1.05); box-shadow: 0 0 14px rgba(0,191,255,0.45); }
    }

    .button.selected {
      border-color: #00bfff;
      background-color: #444;
      transform: scale(1.05);
      animation: glow 1.6s ease-in-out infinite;
    }

    .button:active {
      background-color: #555;
    }

    @media (max-width: 800px) {
      .button {
        width: 70vw;
        height: 18vh;
        font-size: 4vw;
      }
    }
  </style>
</head>
<body>
  <h1>IPTV Manager</h1>
  <div class="button-container">
    <div class="button selected" data-url="http://192.168.70.40:3001">SmartOne IPTV Player</div>
    <div class="button" data-url="http://192.168.70.40:3000">Update Credentials</div>
  </div>

  <script>
    const buttons = document.querySelectorAll('.button');
    let selectedIndex = 0;

    function updateSelection() {
      buttons.forEach((btn, index) => {
        btn.classList.toggle('selected', index === selectedIndex);
      });
    }

    function getButtonRect(index) {
      return buttons[index].getBoundingClientRect();
    }

    document.addEventListener('keydown', (e) => {
      const currentRect = getButtonRect(selectedIndex);
      let targetIndex = selectedIndex;
      let minDistance = Infinity;

      switch (e.key) {
        case 'ArrowRight':
        case 'ArrowLeft':
        case 'ArrowUp':
        case 'ArrowDown':
          buttons.forEach((btn, i) => {
            if (i === selectedIndex) return;
            const rect = getButtonRect(i);

            const dx = rect.x - currentRect.x;
            const dy = rect.y - currentRect.y;

            switch (e.key) {
              case 'ArrowRight':
                if (dx > 0 && Math.abs(dy) < rect.height * 0.6 && dx < minDistance) {
                  minDistance = dx;
                  targetIndex = i;
                }
                break;
              case 'ArrowLeft':
                if (dx < 0 && Math.abs(dy) < rect.height * 0.6 && -dx < minDistance) {
                  minDistance = -dx;
                  targetIndex = i;
                }
                break;
              case 'ArrowDown':
                if (dy > 0 && Math.abs(dx) < rect.width * 0.6 && dy < minDistance) {
                  minDistance = dy;
                  targetIndex = i;
                }
                break;
              case 'ArrowUp':
                if (dy < 0 && Math.abs(dx) < rect.width * 0.6 && -dy < minDistance) {
                  minDistance = -dy;
                  targetIndex = i;
                }
                break;
            }
          });
          if (targetIndex !== selectedIndex) {
            selectedIndex = targetIndex;
            updateSelection();
          }
          break;

        case 'Enter':
        case 'OK':
          // play a short press animation on the selected button before redirect
          const selectedButton = buttons[selectedIndex];
          selectedButton.style.animation = 'press 0.22s ease';
          // ensure animation cleared after playing
          setTimeout(() => {
            selectedButton.style.animation = '';
            // redirect after animation
            window.location.href = selectedButton.dataset.url;
          }, 220);
          break;
      }
    });

    // allow mouse interactions too
    buttons.forEach((btn, idx) => {
      btn.addEventListener('click', () => {
        selectedIndex = idx;
        updateSelection();
        // short visual press on click as well
        btn.style.animation = 'press 0.22s ease';
        setTimeout(() => { btn.style.animation = ''; window.location.href = btn.dataset.url; }, 220);
      });
      btn.addEventListener('mouseenter', () => {
        selectedIndex = idx;
        updateSelection();
      });
    });

    updateSelection();
  </script>
</body>
</html>
