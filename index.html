<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartOne IPTV</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    h1 {
      position: absolute;
      top: 5vh;
      font-size: 3vw;
      letter-spacing: 1px;
      text-align: center;
      width: 100%;
    }

    .button-container {
      display: flex;
      flex-wrap: wrap; /* allows wrapping on smaller screens */
      justify-content: center;
      align-items: center;
      gap: 4vw;
      width: 90vw;
      max-width: 1600px;
    }

    .button {
      width: 35vw;
      height: 20vh;
      max-width: 400px;
      max-height: 220px;
      min-width: 180px;
      min-height: 100px;
      background-color: #333;
      border: 3px solid transparent;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2vw;
      cursor: pointer;
      transition: all 0.2s;
      box-sizing: border-box;
      text-align: center;
    }

    .button.selected {
      border-color: #00bfff;
      background-color: #444;
      transform: scale(1.05);
    }

    .button:active {
      background-color: #555;
    }

    @media (max-width: 800px) {
      .button {
        width: 70vw;
        height: 18vh;
        font-size: 4vw;
      }
    }
  </style>
</head>
<body>
  <h1>IPTV Manager</h1>
  <div class="button-container">
    <div class="button selected" data-url="http://192.168.70.40:3001">SmartOne IPTV Player</div>
    <div class="button" data-url="http://192.168.70.40:3000">Update Credentials</div>
  </div>

  <script>
    const buttons = document.querySelectorAll('.button');
    let selectedIndex = 0;

    function updateSelection() {
      buttons.forEach((btn, index) => {
        btn.classList.toggle('selected', index === selectedIndex);
      });
    }

    function getButtonRect(index) {
      return buttons[index].getBoundingClientRect();
    }

    document.addEventListener('keydown', (e) => {
      const currentRect = getButtonRect(selectedIndex);
      let targetIndex = selectedIndex;
      let minDistance = Infinity;

      switch (e.key) {
        case 'ArrowRight':
        case 'ArrowLeft':
        case 'ArrowUp':
        case 'ArrowDown':
          buttons.forEach((btn, i) => {
            if (i === selectedIndex) return;
            const rect = getButtonRect(i);

            const dx = rect.x - currentRect.x;
            const dy = rect.y - currentRect.y;

            switch (e.key) {
              case 'ArrowRight':
                if (dx > 0 && Math.abs(dy) < rect.height * 0.6 && dx < minDistance) {
                  minDistance = dx;
                  targetIndex = i;
                }
                break;
              case 'ArrowLeft':
                if (dx < 0 && Math.abs(dy) < rect.height * 0.6 && -dx < minDistance) {
                  minDistance = -dx;
                  targetIndex = i;
                }
                break;
              case 'ArrowDown':
                if (dy > 0 && Math.abs(dx) < rect.width * 0.6 && dy < minDistance) {
                  minDistance = dy;
                  targetIndex = i;
                }
                break;
              case 'ArrowUp':
                if (dy < 0 && Math.abs(dx) < rect.width * 0.6 && -dy < minDistance) {
                  minDistance = -dy;
                  targetIndex = i;
                }
                break;
            }
          });
          if (targetIndex !== selectedIndex) {
            selectedIndex = targetIndex;
            updateSelection();
          }
          break;

        case 'Enter':
        case 'OK':
          window.location.href = buttons[selectedIndex].dataset.url;
          break;
      }
    });

    updateSelection();
  </script>
</body>
</html>
